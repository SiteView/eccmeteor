<Template name="showEntityGroup">
	<div class="width:auto">
		<label class="label label-info">选择设备类型</label>
		<button class="btn pull-right" id="showEntityGroupBackBtn"><i class="icon-arrow-left"></i>返回</button>
	</div>
	<br>
	<div class="accordion" id="entityGroupAccordion">
		{{#each entityGroup}}
			{{#unless sv_hidden}}
			<div class="accordion-group">
				<div class="accordion-heading">
					<a class="accordion-toggle" data-toggle="collapse" data-parent="#entityGroupAccordion" href="#collapse{{sv_index}}">
			            {{sv_name}}
			        </a>
				</div>
				<div id="collapse{{sv_index}}" class="accordion-body collapse">
			        <div class="accordion-inner">
			            <table class="table table-striped table-bordered table-condensed">
			                <tbody>
							{{#each entityTemplateId}}
							<tr id="{{this}}">
								{{#with getEntityPropertyById this}}
								<td>{{sv_name}}</td><td>{{sv_description}}</td>
								{{/with}}
							</tr>
							{{/each}}
							</tbody>
						</table>
			        </div>
			     </div>
			</div>
			{{/unless}}
		{{/each}}
	</div>
	{{> showEntity}}
	{{> showQuickMonityTemplate}}
</Template>

<Template name="showEntity">
<div id="showEntityDiv" class="modal hide fade">
	<div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
		<span class="label label-info">设备信息</span>
	</div>
	<div class="modal-body">
		<form id="showEntityForm" class="well form-horizontal" submit="return fasle;">
			<fieldset>
				{{#each getEntityItemsById showEntityId}}
				<div class="control-group">
					<label class="control-label">{{#unless sv_allownull}}*{{/unless}}{{sv_label}}:</label>
					<div class="controls">
						{{createDomeByPropertyHelper this}}
					</div>
				</div>
				{{/each}}
				<div class="control-group">
					<label class="control-label">*标题:</label>
					<div class="controls">
						<input type="input" name="sv_name" placeholder="请输入标题"/>
					</div>
				</div>	
				<div class="control-group">
					<label class="control-label">描述:</label>
					<div class="controls">
						<textarea name="sv_description"></textarea>
					</div>
				</div>	
				<div class="control-group">
					<label class="control-label">依赖:</label>
					<div class="controls">
						<input type="text" readOnly="readOnly" name="sv_dependson"/><input type="button" class="btn" value="...">
					</div>
				</div>	
				<div class="control-group">
					<label class="control-label">依靠条件:</label>
					<div class="controls">
						<label class="radio">
							<input type="radio" name="sv_dependscondition" value="1">
							正常
						</label>
						<label class="radio">
							<input type="radio" name="sv_dependscondition" value="2">
							危险
						</label>
						<label class="radio">
							<input type="radio" name="sv_dependscondition" value="3" checked="checked">
							错误
						</label>
					</div>
				</div>	
			</fieldset>
		</form>
	</div>
	<div class="modal-footer">
		<button class="btn btn-primary" id="showEntityFormSaveBtn">保存</button>
		<button class="btn" id="showEntityFormCancelBtn">取消</button>
	</div>
</div>
</Template>

<Template name="showEditEntity">
	<div id="showEditEntityDiv" class="modal hide fade">
	<div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
		<span class="label label-info">设备信息</span>
	</div>
	<div class="modal-body">
		<form id="showEditEntityForm" class="well form-horizontal" submit="return fasle;">
			<fieldset>
				{{#each getItemsAndDefaultValueBySvIdAndDevicetype}}
				<div class="control-group">
					<label class="control-label">{{#unless sv_allownull}}*{{/unless}}{{sv_label}}:</label>
					<div class="controls">
						{{createDomeByPropertyHelper this}}
					</div>
				</div>
				{{/each}}
				{{#with getItemsAndDefaultValue}}
				<div class="control-group">
					<label class="control-label">*标题:</label>
					<div class="controls">
						<input type="input" name="sv_name" value="{{sv_name}}" placeholder="请输入标题"/>
					</div>
				</div>
				<hr>	
				<div class="control-group">
					<label class="control-label">描述:</label>
					<div class="controls">
						<textarea name="sv_description">
							{{sv_description}}
						</textarea>
					</div>
				</div>	
				<div class="control-group">
					<label class="control-label">依赖:</label>
					<div class="controls">
						<input type="text" readOnly="readOnly" name="sv_dependson"  value="{{sv_dependson}}"/><input type="button" class="btn" value="...">
					</div>
				</div>	
				<div class="control-group">
					<label class="control-label">依靠条件:</label>
					<div class="controls">
						<label class="radio">
							<input type="radio" name="sv_dependscondition" 
							value="1"{{#if equal sv_dependscondition "1"}}checked="checked"{{/if}}>
							正常
						</label>
						<label class="radio">
							<input type="radio" name="sv_dependscondition" 
							value="2" {{#if equal sv_dependscondition "2"}}checked="checked"{{/if}}>
							危险
						</label>
						<label class="radio">
							<input type="radio" name="sv_dependscondition" 
							value="3" {{#if equal sv_dependscondition "1"}}checked="checked"{{/if}}>
							错误
						</label>
					</div>
				</div>
				{{/with}}
			</fieldset>
		</form>
	</div>
	<div class="modal-footer">
		<button class="btn btn-primary" id="showEditEntityFormSaveBtn">保存</button>
		<button class="btn" id="showEditEntityFormCancelBtn">取消</button>
	</div>
</div>
</Template>