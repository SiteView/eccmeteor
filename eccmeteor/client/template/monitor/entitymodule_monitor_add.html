<Template name="ChooseMonitorTemplate">
	<div id="chooseMonitorTemplateDiv" class="modal hide fade">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
			<label class="label label-info">选择监视器类型</label>
		</div>
		<div class="modal-body">
			<table class="table table-striped table-bordered table-condensed table-hover">
				<thead>
					<tr>   
						<th>监视器类型</th>
						<th>说明</th>
					</tr>
				</thead>
				<tbody>
				{{#each monities}}
					<tr>
						<td><a href="#" id="{{return.id}}">{{property.sv_label}}</a></td>
						<td>{{property.sv_description}}</td>
					</tr>
				{{/each}}
				</tbody>
			</table>
		</div>
	</div>
</Template>
<Template name="showMonitorInfo">
	<div id="showMonitorInfoDiv" class="modal hide fade">
		<div class="modal-header">			
			<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
			<label class="label label-info">邮件地址设置</label>
		</div>
		<div class="modal-body">
			<form id="monityTemplateParameter">
			<table class="table table-striped table-bordered table-condensed">
				<tbody>
				<tr><td colspan="3">基本信息</td></tr>
				<tr>
					<td>设备名称</td>
					<td>{{devicename}}</td>
				</tr>
				{{#each getMonityTemplateParameters}}
					<tr>
						<td>
							{{#unless sv_allownull}}*{{/unless}}{{sv_label}}:
						</td>
						<td>{{createDomeByPropertyHelper this}}</td>
					</tr>
				{{/each}}
				</tbody>
			</table>
			</form>
			<hr />
			<span class="label label-info">报警条件</span><br /> <br />
			<div id="errorsStatusDiv">
				<span class="label label-important">错误条件：</span><br /> <br />
				{{> monitorTemplateStatus}}
				<!--<button class="btn" name="deleteConditionBtn">删除</button>-->
				<table class="table table-striped table-bordered table-condensed">
					<thead>
						<tr>
							<th class="span1"><input type="checkbox"/>&nbsp;<i class="icon-trash"></i></th>
							<th>项目</th>
							<th>操作符</th>
							<th>值</th>
							<th>关系</th>
						</tr>
					</thead>
					<tbody id="warnigStatusTable">
					{{#with getMonityTemplateStatesByStatus "error"}}
						{{> monitorTemplateInitStatusTableTr}}
					{{/with}}
					</tbody>
				</table>
				<form id="errorsStatusForm">
				<input type="hidden" class="sv_conditioncount" name="sv_conditioncount" value="1">
					{{#with getMonityTemplateStatesByStatus "error"}}
						{{> monitorTemplateInitStatusInputHidden}}
					{{/with}}
				</form>
			</div>
			<div id="warningStatusDiv">
				<span class="label label-warning">危险条件：</span><br /> <br />
				{{> monitorTemplateStatus}}
				<!--<button class="btn" name="deleteConditionBtn">删除</button>-->
				<table class="table table-striped table-bordered table-condensed">
					<thead>
						<tr>
							<th class="span1"><input type="checkbox"/>&nbsp;<i class="icon-trash"></i></th>
							<th>项目</th>
							<th>操作符</th>
							<th>值</th>
							<th>关系</th>
						</tr>
					</thead>
					<tbody id="warningStatusTable">
					{{#with getMonityTemplateStatesByStatus "warning"}}
						{{> monitorTemplateInitStatusTableTr}}
					{{/with}}
					</tbody>
				</table>
				<form id="warningStatusForm">
					<input type="hidden" class="sv_conditioncount" name="sv_conditioncount" value="1">
					{{#with getMonityTemplateStatesByStatus "warning"}}
						{{> monitorTemplateInitStatusInputHidden}}
					{{/with}}
				</form>
			</div>
			<div id="goodStatusDiv">
				<span class="label label-success">正常条件：</span><br /> <br />
				{{> monitorTemplateStatus}}
				<!--<button class="btn" name="deleteConditionBtn">删除</button>-->
				<table  class="table table-striped table-bordered table-condensed">
					<thead>
						<tr>
							<th class="span1"><input type="checkbox"/>&nbsp;<i class="icon-trash"></i></th>
							<th>项目</th>
							<th>操作符</th>
							<th>值</th>
							<th>关系</th>
						<tr>
					</thead>
					<tbody id="goodStatusTable">
						{{#with getMonityTemplateStatesByStatus "good"}}
							{{> monitorTemplateInitStatusTableTr}}
						{{/with}}
					</tbody>
				</table>
				<form id="goodStatusForm">
					<input type="hidden" class="sv_conditioncount" name="sv_conditioncount" value="1">
					{{#with getMonityTemplateStatesByStatus "good"}}
						{{> monitorTemplateInitStatusInputHidden}}
					{{/with}}
				</form>
			</div>
			<hr />
			<form id="monityTemplateAdvanceParameters">
			<table>
				<tbody>
					<tr><td colspan="3">高级选项</td></tr>
					{{#each getMonityTemplateAdvanceParameters}}
						<tr>
							<td>
							{{sv_label}}:
							</td>
							<td>
							{{createDomeByPropertyHelper this}}
							</td>
						</tr>
					{{/each}}
				<tbody>
			</table>
			</form>
			<form id="monityTemplateCommonParameters" class="well">
				<table>
					<tr>
						<td>
							校验错误:
						</td>
						<td>
							<input type="checkbox" value="true" name="sv_checkerr" checked="checked">监测器错误检验
						</td>
					</tr>
					<tr>
						<td>
							错误时监测频率:
						</td>
						<td>
							<input type="text" name="sv_errfreqsave">
							<select name="sv_errfrequint">
								<option value="1">分钟</option>
								<option value="2">小时</option>
							</select>
						</td>
					</tr>
					<tr>
						<td>
							计划任务
						</td>
						<td>
							<select name="sv_plan">
								{{#each getAllTaskNames}}
									<option value="{{this}}">{{this}}</option>
								{{/each}}
							</select>
						</td>
					</tr>
					<tr>
						<td>
							监测描述
						</td>
						<td>
							<textarea name="sv_description"></textarea>
						</td>
					</tr>
					<tr>
						<td>
							报告描述
						</td>
						<td>
							<textarea name="sv_reportdesc"></textarea>
						</td>
					</tr>
			</table>
			</form>	
		</div>
		<div class="modal-footer" align="right">
			<button class="btn btn-primary" id="monityTemplateFormsSavelBtn">保存</button>
			<button class="btn" id="monityTemplateFormsCancelBtn">取消</button>
		</div>
	</div>
</Template>

<Template name="monitorTemplateStatus">
	<form class="well form-inline">
		<select name="sv_paramname">
			{{#each getMonityTemplateReturnItemsById}}
			<option value="{{sv_name}}">{{sv_label}}</option>
			{{/each}}
		</select>
		<select name="sv_operate">
			<option value="==">==</option>
			<option value="!=">!=</option>
			<option value=">=">>=</option>
			<option value=">">></option>
			<option value="<="><=</option>
			<option value="<"><</option>
			<option value="!contains">!contains</option>
			<option value="contains">contains</option>
		</select>
		<input type="text" name="sv_paramvalue"><br /> <br />
		<label class="checkbox">
			<span>关系</span>
			<input type="radio" name="sv_relation" value="or" checked> 或  
			<input type="radio" name="sv_relation" value="and"> 与  
		</label>
		<!--<a href="javascript:void(0)" class="btn .btn-small">添加</a>-->
		<button class="btn .btn-small" id="monitorTemplateStatusAddConditions">添加</button>
	</form>
</Template>

<Template name="monitorTemplateInitStatusTableTr">
	<tr id="tr1">
		<td><input type="checkbox"></td>
		<td>{{sv_paramname1}}</td>
		<td>{{sv_operate1}}</td>
		<td>{{sv_paramvalue1}}</td>
		<td>{{sv_relation1}}</td>
	</tr>
</Template>
<Template name="monitorTemplateInitStatusInputHidden">
	<input type="hidden" name="sv_paramname1" value="{{sv_paramname1}}">
	<input type="hidden" name="sv_operate1" value="{{sv_operate1}}">
	<input type="hidden" name="sv_paramvalue1" value="{{sv_paramvalue1}}">
</Template>