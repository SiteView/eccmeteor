<Template name="showMonitor"><!--展示监视器信息 -->
	<table class="table table-striped table-condensed table-hover">
		<thead>
			<tr></tr>
			<tr>
			    <th class="select-checkbox"><input type="checkbox" id="showMonitorTableSelectAll"></th>
				<th class="imag-status">状态</th>
				<!--<th class="span1">ID</th>-->
				<th class="span2">名称</th>
				<th>描述</th>
				<th>更新</th>
				<th></th>
			</tr>
		</thead>
		<tbody id="showMonitorList">
		{{#if getChildrenNodesByIdAndType entityid "submonitor"}}
		{{#each getChildrenNodesByIdAndType entityid "submonitor"}}
			<tr id="{{sv_id}}" data-status="{{status}}">
			    <td><input type="checkbox" id="{{sv_id}}"></td>
				<td>
					<img src="imag/status/{{status}}.png"
						data-toggle="popover" 
						data-placement="top"
						data-html=true
						data-content="{{language.status}}:{{getLanguage status}}<br />{{dstr}}"
						title="" 
						data-original-title="{{sv_name}}"/>
				</td>
				<!--<td>{{sv_id}}</td>-->
				<td>
					<div class="descriptTd"
							data-toggle="tooltip"
							data-placement="right" 
							title='{{sv_name}}'
							trigger="hover">
						{{sv_name}}]
					</div>
				</td>
				<td>
					<div class="descriptTd"
							data-toggle="tooltip"
							data-placement="bottom" 
							title='{{dstr}}'
							trigger="hover"
					>
						{{dstr}}
					</div>
				</td>
				<td>
					{{creat_time}}
				</td>
				<td>
					<div class="btn-group">
						<button id="{{sv_id}}" class="btn btn-small" name="trash">
							<i class="icon-trash"></i>删除
						</button>
						<button id="{{sv_id}}" class="btn btn-small" name="edit">
							<i class="icon-edit"></i>编辑
						</button>
					</div>
				</td>
			</tr>
		{{/each}}
		{{else}}
			<tr><td  colspan=7 style="text-align:center">暂无数据</td></tr>
		{{/if}}
		</tbody>
	</table>
</Template>

<Template name="svg"><!-- svg 图像展示-->
	<div id="showSvg" class="row-fluid">
		<div class="well span8" style="padding:0px;height:187px">
			<svg id="line"></svg>
		</div>
		<div class="span4">
			<svg id="monitorStatisticalPieSvg" height="187" width="290">
				<g width="60" height="157" class="desrSvg">
					<g transform="translate(0,0)">
						<rect width="15" height="15" style="fill: #468847;"></rect>
						<text x="22" y="8" dy=".35em" font-size="12">正常</text>
					</g>
					<g transform="translate(0,17)">
						<rect width="15" height="15" style="fill: #f89406;"></rect>
						<text x="22" y="8" dy=".35em" font-size="12">危险</text>
					</g>
					<g transform="translate(0,34)">
						<rect width="15" height="15" style="fill: #b94a48"></rect>
						<text x="22" y="8" dy=".35em" font-size="12">错误</text>
					</g>
					<g transform="translate(0,51)">
						<rect width="15" height="15" style="fill: #999999;"></rect>
						<text x="22" y="8" dy=".35em" font-size="12">禁止</text>
					</g>
				</g>
			</svg>
			<button id="monitoryDetailBtn" class="btn">详细</button>
		</div>
	</div>
	<div class="row-fluid" style="height:50px;overflow:auto">
	{{>MonitorStatisticalDetailData}}
	<div>
</Template>
	
<Template name="MonitorStatisticalDetailData">
	<table class="table table-striped table-bordered table-condensed">
		<thead>
			<tr><th>返回值</th><th>最大值</th><th>平均值</th><th>最新值</th></tr>
		</thead>
		<tbody>
			{{#each monitorStatisticalDetailTableData}}
				<tr>
					<td>{{label}}</td>
					<td>{{max}}</td>
					<td>{{mean}}</td>
					<td>{{new}}</td>
				</tr>
			{{/each}}
		</tbody>
	</table>
</Template>

<Template name="MonitorStatisticalSimpleData">
	<!-- 记录统计 -->
	<table class="table table-striped table-bordered table-condensed" style="height:187px">
		<tbody>
			{{#with recordsData}}
			<tr>
				<td colspan=3></td>
				<td><button class="btn" id="monitorDetail">详细信息</button></td>
			</tr>
			<tr>
				<td>正常</td>
				<td><span class="badge badge-success">{{ok}}</span></td>
				<td>危险</td>
				<td><span class="badge badge-warning">{{warning}}</span></td>
			</tr>
			<tr>
				<td>错误</td>
				<td><span class="badge badge-important">{{error}}</span></td>
				<td>禁止</td>
				<td><span class="badge">{{disable}}</span></td>
			</tr>
			<tr>
				<td>阀值</td>
				<td colspan="3">测试条件</td>
			</tr>
			<tr>
				<td rowspan="2">时间段</td>
				<td colspan="3">{{starttime}}</td>
			</tr>
			<tr>
				<td colspan="3">{{endtime}}</td>
			</tr>
			{{/with}}
		</tbody>
	</table>
</Template>

<Template name="EntityModule">
	<div class="row-fluid" style="height:350px;overflow:auto">
		{{> showMonitor}}
	</div>
	{{> svg}}
	<!-- 选择监视器类型弹窗-->
	{{> ChooseMonitorTemplate}}
	<!-- 监视器详细信息-->
	{{> showMonitorDetailSvg}}
</Template>