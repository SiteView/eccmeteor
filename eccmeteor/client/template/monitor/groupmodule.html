<Template name="showGroupAndEntity"> <!--展示设备和组信息 -->
	<div class="accordion" id="showGroupAndEntityAccordion">
        <div class="accordion-group">
          <div class="accordion-heading">
            <a class="accordion-toggle" data-toggle="collapse" href="#showGroupAndEntityTableGroupListCollapseOne">
              子组
            </a>
          </div>
          <div id="showGroupAndEntityTableGroupListCollapseOne" class="accordion-body collapse {{#if arrayLengthHelper subgroup}}in{{/if}}">
            <div class="accordion-inner">
				<table class="table table-striped table-condensed table-hover">
					<thead>
						<tr></tr>
						<tr>
						    <th class="select-checkbox"><input type="checkbox" id="showGroupAndEntityTableGroupSelectAll"></th>
							<th class="imag-status">状态</th>
						<!--	<th>SV_ID</th> <th>依靠</th>-->
							<th class="span2">名称</th>
							<th class="span1">设备</th>
							<th class="span2">监控器</th>
							<th class="span1">禁止</th>
							<th class="span1">错误</th>
							<th class="span1">危险</th>
							<th>描述信息</th>
							<th></th>
						</tr>
					</thead>
					<tbody id="showGroupAndEntityTableGroupList">
					{{#if subgroup}}
					{{#each subgroup}}
						<tr id="{{sv_id}}">
						    <td>
						        <input type="checkbox" id="{{sv_id}}">
						    </td>
							<td>
								<img src="imag/status/{{status}}.png"
									data-toggle="popover" 
									data-placement="right"
									data-html=true
									data-content="
									{{language.status}}:{{getLanguage status}}
									<br />
									信息:{{sv_description}}"
									title="" 
									data-original-title="{{sv_name}}"/>
							</td>
						<!--	<td>{{sv_id}}</td> -->
							<td><a href="#" id="{{sv_id}}">{{sv_name}}</a></td>
							<td>{{sub_entity_sum}}</td>
							<td>{{sub_monitor_sum}}</td>
							<td>{{sub_monitor_disable_sum}}</td>
							<td>{{sub_monitor_error_sum}}</td>
							<td>{{sub_monitor_warning_sum}}</td>
							<td>{{sv_description}}</td> {{!----}} <!---->
						<!--	{{!-- <td>{{sv_dependson}}</td> --}}-->
							<td>
								<div class="btn-group">
									<button id="{{sv_id}}" class="btn btn-small" name="trash"  {{#unless isNodeEnabled sv_id "delete"}}disabled{{/unless}}>
										<i class="icon-trash"></i>删除
									</button>
									<button id="{{sv_id}}" class="btn btn-small" name="edit"  {{#unless isNodeEnabled sv_id "edit"}}disabled{{/unless}}>
										<i class="icon-edit"></i>编辑
									</button>
								</div>
							</td>
						</tr>
					{{/each}}
					{{else}}
						<tr><td  colspan=10>暂无数据</td></tr>
					{{/if}}
					</tbody>
				</table>
				{{#if arrayLengthHelper subgroup}}
					{{{groupPager}}}
				{{/if}}
            </div>
          </div>
        </div>
        <div class="accordion-group">
          <div class="accordion-heading">
            <a class="accordion-toggle" data-toggle="collapse" href="#showGroupAndEntityTableEntityListCollapseTwo">
              设备
            </a>
          </div>
          <div id="showGroupAndEntityTableEntityListCollapseTwo" class="accordion-body collapse {{#if arrayLengthHelper subentity}}in{{/if}}">
            <div class="accordion-inner">
	            <table class="table table-striped table-condensed table-hover">
					<thead>
						<tr></tr>
						<tr>
						    <th  class="select-checkbox"><input type="checkbox" id="showGroupAndEntityTableEntitySelectAll"></th>
							<th class="imag-status">状态</th>
						<!--	<th>SV_ID</th> !-->
							<th>名称</th>
							<th>监控器</th>
							<th>禁止</th>
							<th>错误</th>
							<th>危险</th>
							<th>IP地址</th>
							<th>设备类型</th>
							<th></th>
						</tr>
					</thead>
					<tbody id="showGroupAndEntityTableEntityList">
					{{#if arrayLengthHelper subentity}}
					{{#each subentity}}
						<tr id="{{sv_id}}">
						    <td>
						       <div>
						        <input type="checkbox" id="{{sv_id}}">
						        <div style="display:none;float:right">
									<i class="icon-trash" id="{{sv_id}}"></i>&nbsp;
									<i class="icon-edit"  id="{{sv_id}}"></i>
								</div>
								</div>
						    </td>	
							<td>
								<img src="imag/status/{{status}}.png"
									data-toggle="popover" 
									data-placement="right"
									data-html=true
									data-content="
									{{language.EquipmentStatus.status}}:{{getLanguage "EquipmentStatus" status}}
									<br />
									IP地址：{{_MachineName}}
									<br />
									设备类型:{{sv_devicetype}}
									"
									title="" 
									data-original-title="{{sv_name}}"/>
							</td>
						<!--	<td>{{sv_id}}</td> -->
							<td><a href="#" id="{{sv_id}}">{{sv_name}}</a></td>
							<td>{{sub_monitor_sum}}</td>
							<td>{{sub_monitor_disable_sum}}</td>
							<td>{{sub_monitor_error_sum}}</td>
							<td>{{sub_monitor_warning_sum}}</td>
							<td>{{_MachineName}}</td>
							<td>{{getEntityTemplateNameByType sv_devicetype}}</td>
							<td>
								<div class="btn-group">
									<button id="{{sv_id}}" class="btn btn-small" name="trash" {{#unless isNodeEnabled sv_id "delete"}}disabled{{/unless}}>
										<i class="icon-trash"></i>删除
									</button>
									<button id="{{sv_id}}" class="btn btn-small" name="edit" {{#unless isNodeEnabled sv_id "edit"}}disabled{{/unless}}>
										<i class="icon-edit"></i>编辑
									</button>
								</div>
							</td>
						</tr>
					{{/each}}
					{{else}}
						<tr><td  colspan=11 style="text-align:center">暂无数据</td></tr>
					{{/if}}
					</tbody>
				</table>
				{{#if arrayLengthHelper subentity}}
					{{{entityPager}}}
				{{/if}}
            </div>
          </div>
        </div>
    </div>
    <div id="AddGroupModal"></div>
    <div id="EditGroupModal"></div>
    <div id="ChooseEntityTemplateForAddEntity"></div>
    <div id="AddEntityModal"></div>
    <div id="QuickAddMonitorModal"></div>
    <div id="EditEntityModal"></div>
</Template>

