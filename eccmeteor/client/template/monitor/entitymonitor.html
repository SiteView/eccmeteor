<Template name="showQuickMonityTemplate">

</Template>
<Template name="showMonitorTemplate">
	<table class="table table-striped table-bordered table-condensed">
		<tbody>
		{{#each monities}}
			<tr>
				<td><a href="#" id="{{return.id}}">{{property.sv_label}}</a></td>
				<td>{{property.sv_description}}</td>
			</tr>
		{{/each}}
		</tbody>
	</table>
</Template>
<Template name="showMonitorInfo">
		<form id="monityTemplateParameter">
		<table class="table table-striped table-bordered table-condensed">
			<tbody>
			<tr><td colspan="3">基本信息</td></tr>
			<tr>
				<td>设备名称</td>
				<td>{{devicename}}</td>
			</tr>
			{{#each getMonityTemplateParameters}}
				<tr>
					<td>
						{{#unless sv_allownull}}*{{/unless}}{{sv_label}}:
					</td>
					<td>{{createDomeByPropertyHelper this}}</td>
				</tr>
			{{/each}}
			</tbody>
		</table>
		</form>
		<hr />
		<p>报警条件</p>
		<div id="errorsStatusDiv">
			错误:<br />
			{{> monitorTemplateStatus}}
			<input type="button" class="btn" id="errorsStatusBtn" value="添加">
			<table class="table table-striped table-bordered table-condensed">
				<thead>
					<tr>
						<th>项目</th>
						<th>操作符</th>
						<th>值</th>
						<th>关系</th>
					</tr>
				</thead>
				<tbody id="errorsStatusTable">
				{{#with getMonityTemplateStatesByStatus "error"}}
					{{> monitorTemplateInitStatusTableTr}}
				{{/with}}
				</tbody>
			</table>
			<form id="errorsStatusForm">
			<input type="hidden" class="sv_conditioncount" name="sv_conditioncount" value="1">
				{{#with getMonityTemplateStatesByStatus "error"}}
					{{> monitorTemplateInitStatusInputHidden}}
				{{/with}}
			</form>
		</div>
		<br />==========================================
		<div id="warningStatusDiv">
			危险:<br />
			{{> monitorTemplateStatus}}
			<input type="button" id="warnigStatusBtn" class="btn" value="添加">
			<table class="table table-striped table-bordered table-condensed">
				<thead>
					<tr>
						<th>项目</th>
						<th>操作符</th>
						<th>值</th>
						<th>关系</th>
					</tr>
				</thead>
				<tbody id="warnigStatusTable">
				{{#with getMonityTemplateStatesByStatus "warning"}}
					{{> monitorTemplateInitStatusTableTr}}
				{{/with}}
				</tbody>
			</table>
			<form id="warningStatusForm">
				<input type="hidden" class="sv_conditioncount" name="sv_conditioncount" value="1">
				{{#with getMonityTemplateStatesByStatus "warning"}}
					{{> monitorTemplateInitStatusInputHidden}}
				{{/with}}
			</form>
		</div>
		<br />==========================================
		<div id="goodStatusDiv">
			正常:<br />
			{{> monitorTemplateStatus}}
			<input type="button" class="btn" id="goodStatusBtn" value="添加">
			<table>
				<thead>
					<tr>
						<th>项目</th>
						<th>操作符</th>
						<th>值</th>
						<th>关系</th>
					<tr>
				</thead>
				<tbody id="goodStatusTable">
					{{#with getMonityTemplateStatesByStatus "good"}}
						{{> monitorTemplateInitStatusTableTr}}
					{{/with}}
				</tbody>
			</table>
			<form id="goodStatusForm">
				<input type="hidden" class="sv_conditioncount" name="sv_conditioncount" value="1">
				{{#with getMonityTemplateStatesByStatus "good"}}
					{{> monitorTemplateInitStatusInputHidden}}
				{{/with}}
			</form>
		</div>
		<hr />
		<form id="monityTemplateAdvanceParameters">
		<table>
			<tbody>
				<tr><td colspan="3">高级选项</td></tr>
				{{#each getMonityTemplateAdvanceParameters}}
					<tr>
						<td>
						{{sv_label}}:
						</td>
						<td>
						{{createDomeByPropertyHelper this}}
						</td>
					</tr>
				{{/each}}
			<tbody>
		</table>
		</form>
		<form id="monityTemplateCommonParameters">
			<table>
				<tr>
					<td>
						校验错误:
					</td>
					<td>
						<input type="checkbox" value="true" name="sv_checkerr" checked="checked">监测器错误检验
					</td>
				</tr>
				<tr>
					<td>
						错误时监测频率:
					</td>
					<td>
						<input type="text" name="sv_errfreqsave">
						<select name="sv_errfrequint">
							<option value="1">分钟</option>
							<option value="2">小时</option>
						</select>
					</td>
				</tr>
				<tr>
					<td>
						计划任务
					</td>
					<td>
						<select name="sv_plan">
							{{#each getAllTaskNames}}
								<option value="{{this}}">{{this}}</option>
							{{/each}}
						</select>
					</td>
				</tr>
				<tr>
					<td>
						监测描述
					</td>
					<td>
						<textarea name="sv_description"></textarea>
					</td>
				</tr>
				<tr>
					<td>
						报告描述
					</td>
					<td>
						<textarea name="sv_reportdesc"></textarea>
					</td>
				</tr>
		</table>
		</form>
		</form>
		
		<div><input type="button" value="保存" class="btn" id="addMonitor"></div>
</Template>

<Template name="monitorTemplateStatus">
	<span>条件</span>
	<form>
	<select name="sv_paramname">
		{{#each getMonityTemplateReturnItemsById}}
		<option value="{{sv_name}}">{{sv_label}}</option>
		{{/each}}
	</select>
	<select name="sv_operate">
		<option value="==">==</option>
		<option value="!=">!=</option>
		<option value=">=">>=</option>
		<option value=">">></option>
		<option value="<="><=</option>
		<option value="<"><</option>
		<option value="!contains">!contains</option>
		<option value="contains">contains</option>
	</select>
	<input type="text" name="sv_paramvalue"><br />
	<span>关系</span>
	<input type="radio" name="sv_relation" value="or" checked> 或  
	<input type="radio" name="sv_relation" value="and"> 与  
	</form>
</Template>

<Template name="monitorTemplateInitStatusTableTr">
	<tr>
		<td>{{sv_paramname1}}</td>
		<td>{{sv_operate1}}</td>
		<td>{{sv_paramvalue1}}</td>
		<td>{{sv_relation1}}</td>
	</tr>
</Template>
<Template name="monitorTemplateInitStatusInputHidden">
	<input type="hidden" name="sv_paramname1" value="{{sv_paramname1}}">
	<input type="hidden" name="sv_operate1" value="{{sv_operate1}}">
	<input type="hidden" name="sv_paramvalue1" value="{{sv_paramvalue1}}">
</Template>