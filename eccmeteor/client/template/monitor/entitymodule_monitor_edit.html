<!--监视器编辑--><Template name="EditMoniorFormModal">	<div 		class="modal hide fade"		data-backdrop="static" data-keyboard="true" data-show="false" 		data-maxHeight='500' data-width="800" data-height="600" data-modalOverflow="true"	>	<div class="modal-header">					<button type="button" class="close">×</button>		<label class="label label-info">			设备 {{devicename}} {{ActionType}} {{monitorType}} 监视器		</label>	</div>	<div class="modal-body">		<input type="hidden" value="{{{monitorTemplateId}}}"/>		<input type="hidden" id="monitorId" value="{{{monitorId}}}"/>		<form id="CommonProperty">			{{#with CommonProperty}}				<input type="hidden" name="creat_timeb" value="{{creat_timeb}}"/>				<input type="hidden" name="sv_dependson" value="{{sv_dependson}}"/>				<input type="hidden" name="sv_disable" value="{{sv_disable}}"/>				<input type="hidden" name="sv_entime" value="{{sv_entime}}"/>				<input type="hidden" name="sv_intpos" value="{{sv_intpos}}"/>				<input type="hidden" name="sv_monitortype" value="{{sv_monitortype}}"/>				<input type="hidden" name="sv_name" value="{{sv_name}}"/>				<input type="hidden" name="sv_starttime" value="{{sv_starttime}}"/>			{{/with}}		</form>		<span class="label label-info">基本信息</span><br /><br />		<form id="monityTemplateParameter">		<table class="table table-striped table-bordered table-condensed">			<tbody>			<tr class="controls">				<td>					{{MonityFrequencyLabel}}				</td>				<td>					{{#each MonityFrequencyDom}}						{{#if equal sv_type "textbox"}}							<input type="text" name="{{sv_name}}" value="{{sv_value}}"								{{#if equal sv_isreadonly "true"}}readonly{{/if}}							/>							{{else}}							<select name="{{sv_name}}">								{{#each selects}}									<option value="{{value}}" {{#if equal value sv_value}}selected{{/if}}>{{key}}</option>								{{/each}}							</select>						{{/if}}					{{/each}}				</td>			</tr>			{{#each MonityTemplateParameters}}				<tr>					<td>						{{#unless sv_allownull}}*{{/unless}}{{sv_label}}:					</td>					<td>						{{#if equal sv_type "textbox"}}							<input type="text" name="{{sv_name}}" value="{{sv_value}}" {{#if equal sv_isreadonly "true"}}readonly{{/if}}/>						{{/if}}						{{#if equal sv_type "password"}}							<input type="password" name="{{sv_name}}" value="{{sv_value}}"  {{#if equal sv_isreadonly "true"}}readonly{{/if}} />						{{/if}}						{{#if equal sv_type "combobox"}}							<select name="{{sv_name}}">								{{#each selects}}													<option value="{{value}}" {{#if equal sv_value value}}selected='selected' {{/if}}>{{key}}</option>								{{/each}}							</select>						{{/if}}						{{#if equal sv_type "textarea"}}							<textarea name="{{sv_name}}">{{sv_value}}</textarea>						{{/if}}					</td>				</tr>			{{/each}}			</tbody>		</table>		</form>		<hr />		<span class="label label-info">报警条件</span><br /><br />		<div class="accordion" id="MonitorStatusAccordion">			<div class="accordion-group">				<div class="accordion-heading">					<div class="accordion-toggle well" style="margin-bottom:0px" data-toggle="collapse" data-parent="#MonitorStatusAccordion" href="#errorsStatusIndex">						<div><span class="label label-important">错误条件：</span></div>						<div class="MonitorStatusConditionsDiv">							{{#with Error}}								{{#each selects}}								[{{paramenameValue}}{{operateValue}}{{sv_paramvalueValue}}]{{sv_relationValue}}								{{/each}}							{{/with}}						</div>					</div>				</div>				<div id="errorsStatusIndex" class="accordion-body collapse">					<div class="accordion-inner" id="errorsStatusDiv">						{{> monitorTemplateStatusEdit}}						<table class="table table-striped table-bordered table-condensed">							<thead>								<tr>									<th class="span1">										<input type="checkbox"/>&nbsp;<i class="icon-trash"></i>									</th>									<th>项目</th>									<th>操作符</th>									<th>值</th>									<th>关系</th>								</tr>							</thead>							<tbody id="warnigStatusTable">								{{#with Error}}									{{> monitorTemplateInitStatusTableTrEdit}}								{{/with}}							</tbody>						</table>						{{#with Error}}						<form id="errorsStatusForm">							{{> monitorTemplateInitStatusInputHiddenEdit}}							</form>						{{/with}}					</div>				</div>			</div>			<div class="accordion-group">				<div class="accordion-heading">					<div class="accordion-toggle well" style="margin-bottom:0px" data-toggle="collapse" data-parent="#MonitorStatusAccordion" href="#warningStatusIndex">						<div><span class="label label-warning">危险条件：</span></div>						<div class="MonitorStatusConditionsDiv">							{{#with Warning}}								{{#each selects}}								[{{paramenameValue}}{{operateValue}}{{sv_paramvalueValue}}]{{sv_relationValue}}								{{/each}}							{{/with}}						</div>					</div>				</div>				<div id="warningStatusIndex" class="accordion-body collapse">					<div class="accordion-inner" id="warningStatusDiv">						{{> monitorTemplateStatusEdit}}						<table class="table table-striped table-bordered table-condensed">							<thead>								<tr>									<th class="span1">										<input type="checkbox"/>&nbsp;<i class="icon-trash"></i>									</th>									<th>项目</th>									<th>操作符</th>									<th>值</th>									<th>关系</th>								</tr>							</thead>							<tbody id="warningStatusTable">								{{#with Warning}}									{{> monitorTemplateInitStatusTableTrEdit}}								{{/with}}							</tbody>						</table>						<form id="warningStatusForm">							{{#with Warning}}								{{> monitorTemplateInitStatusInputHiddenEdit}}							{{/with}}						</form>					</div>				</div>			</div>			<div class="accordion-group">				<div class="accordion-heading">					<div class="accordion-toggle well" style="margin-bottom:0px" data-toggle="collapse" data-parent="#MonitorStatusAccordion" href="#goodStatusIndex">						<div>							<span class="label label-success">正常条件：</span>						</div>						<div class="MonitorStatusConditionsDiv">							{{#with Good}}								{{#each selects}}								[{{paramenameValue}}{{operateValue}}{{sv_paramvalueValue}}]{{sv_relationValue}}								{{/each}}							{{/with}}						</div>					</div>				</div>				<div id="goodStatusIndex" class="accordion-body collapse">					<div class="accordion-inner" id="goodStatusDiv">						{{> monitorTemplateStatusEdit}}						<table  class="table table-striped table-bordered table-condensed">							<thead>								<tr>									<th class="span1">										<input type="checkbox"/>&nbsp;<i class="icon-trash"></i>									</th>									<th>项目</th>									<th>操作符</th>									<th>值</th>									<th>关系</th>								</tr>							</thead>							<tbody id="goodStatusTable">								{{#with Good}}									{{> monitorTemplateInitStatusTableTrEdit}}								{{/with}}							</tbody>						</table>						<form id="goodStatusForm">							{{#with Good}}								{{> monitorTemplateInitStatusInputHiddenEdit}}							{{/with}}						</form>					</div>				</div>			</div>		</div>		<hr />		<span class="label label-info">高级选项</span><br /><br />		<form id="monityTemplateAdvanceParameters" class="table table-striped table-bordered table-condensed">		<table>			<tbody>				{{#each MonityTemplateAdvanceParameters}}				<tr>					<td>					{{sv_label}}:					</td>					<td>					{{#if equal sv_type "textbox"}}						<input type="text" name="{{sv_name}}" value="{{sv_value}}"							{{#if equal sv_isreadonly "true"}}readonly{{/if}}						/>						{{else}}						<select name="{{sv_name}}">							{{#each selects}}								<option value="{{value}}" {{#if equal value sv_value}}selected{{/if}}>{{key}}</option>							{{/each}}						</select>					{{/if}}					</td>				</tr>				{{/each}}			</tbody>		</table>		</form>		{{#with CommonParameter}}		<form id="monityTemplateCommonParameters" class="table table-striped table-bordered table-condensed">			<table>				<tr>					<td>						校验错误:					</td>					<td>						<input type="checkbox" value="true" name="sv_checkerr" {{#if equal sv_checkerr "true" }}checked="checked"{{/if}}>监测器错误检验					</td>				</tr>				<tr>					<td>						错误时监测频率:					</td>					<td>						<input type="text" name="sv_errfreqsave">						<select name="sv_errfrequint">							<option value="1" {{#if equal sv_errfrequint "1"}}selected{{/if}}>分钟</option>							<option value="2" {{#if equal sv_errfrequint "2"}}selected{{/if}}>小时</option>						</select>					</td>				</tr>				<tr>					<td>						计划任务					</td>					<td>						<select name="sv_plan">							<option value="" {{#if equal sv_plan "" }}selected{{/if}}></option>							{{#each AllTaskNames}}							<option value="{{sv_name}}" {{#if equal sv_name sv_plan}}selected{{/if}}> {{sv_name}}</option>							{{/each}}						</select>					</td>				</tr>				<tr>					<td>						监测描述					</td>					<td>						<textarea name="sv_description">{{sv_description}}</textarea>					</td>				</tr>				<tr>					<td>						报告描述					</td>					<td>						<textarea name="sv_reportdesc">{{sv_reportdesc}}</textarea>					</td>				</tr>		</table>		</form>			{{/with}}	</div>	<div class="modal-footer" align="right">		<button class="btn btn-primary" id="monityTemplateFormsSavelBtn">保存</button>		<button class="btn" id="monityTemplateFormsCancelBtn">取消</button>	</div>	</div></Template><Template name="monitorTemplateStatusEdit">	<form class="well form-inline">		<select name="sv_paramname">			{{#each MonityTemplateReturnItems}}			<option value="{{sv_name}}">{{sv_label}}</option>			{{/each}}		</select>		<select name="sv_operate">			<option value="==">==</option>			<option value="!=">!=</option>			<option value=">=">>=</option>			<option value=">">></option>			<option value="<="><=</option>			<option value="<"><</option>			<option value="!contains">!contains</option>			<option value="contains">contains</option>		</select>		<input type="text" name="sv_paramvalue"><br /> <br />		<label class="checkbox">			<span>关系</span>			<input type="radio" name="sv_relation" value="or" checked> 或  			<input type="radio" name="sv_relation" value="and"> 与  		</label>		<!--<a href="javascript:void(0)" class="btn .btn-small">添加</a>-->		<button class="btn .btn-small" id="monitorTemplateStatusAddConditions">添加</button>	</form></Template><Template name="monitorTemplateInitStatusTableTrEdit">	{{#each selects}}	<tr>		<td><input type="checkbox"></td>		<td>{{this.paramenameValue}}</td>		<td>{{this.operateValue}}</td>		<td>{{this.sv_paramvalueValue}}</td>		<td>{{this.sv_relationValue}}</td>	</tr>	{{/each}}</Template><Template name="monitorTemplateInitStatusInputHiddenEdit">	<input type="hidden" class="sv_conditioncount" name="sv_conditioncount" value="{{sv_conditioncount}}">	{{#each selects}}	<input type="hidden" name="{{this.paramenameKey}}" value="{{this.paramenameValue}}">	<input type="hidden" name="{{operateKey}}" value="{{operateValue}}">	<input type="hidden" name="{{sv_paramvalueKey}}" value="{{sv_paramvalueValue}}">	{{/each}}</Template>